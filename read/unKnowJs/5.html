<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>你不知道的 JS 读书笔记 5 | al的前端小屋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/alblog/icon.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/alblog/assets/css/0.styles.be855775.css" as="style"><link rel="preload" href="/alblog/assets/js/app.fd34ad18.js" as="script"><link rel="preload" href="/alblog/assets/js/2.be1f31b3.js" as="script"><link rel="preload" href="/alblog/assets/js/24.dbbd5fa7.js" as="script"><link rel="prefetch" href="/alblog/assets/js/10.406bacb2.js"><link rel="prefetch" href="/alblog/assets/js/11.c40b6fd7.js"><link rel="prefetch" href="/alblog/assets/js/12.5674d8c0.js"><link rel="prefetch" href="/alblog/assets/js/13.89f7462c.js"><link rel="prefetch" href="/alblog/assets/js/14.e183b036.js"><link rel="prefetch" href="/alblog/assets/js/15.718f1c85.js"><link rel="prefetch" href="/alblog/assets/js/16.6dda1663.js"><link rel="prefetch" href="/alblog/assets/js/17.6ed665c0.js"><link rel="prefetch" href="/alblog/assets/js/18.b57c20a6.js"><link rel="prefetch" href="/alblog/assets/js/19.2f2dbcde.js"><link rel="prefetch" href="/alblog/assets/js/20.63b6ac55.js"><link rel="prefetch" href="/alblog/assets/js/21.09eb7bb9.js"><link rel="prefetch" href="/alblog/assets/js/22.2e73c3a4.js"><link rel="prefetch" href="/alblog/assets/js/23.493f0011.js"><link rel="prefetch" href="/alblog/assets/js/25.ec6d53a6.js"><link rel="prefetch" href="/alblog/assets/js/26.aa86a3bb.js"><link rel="prefetch" href="/alblog/assets/js/27.7514c11f.js"><link rel="prefetch" href="/alblog/assets/js/28.367138f5.js"><link rel="prefetch" href="/alblog/assets/js/29.33736703.js"><link rel="prefetch" href="/alblog/assets/js/3.a4b2ee28.js"><link rel="prefetch" href="/alblog/assets/js/30.4b0e9180.js"><link rel="prefetch" href="/alblog/assets/js/31.380eb5cb.js"><link rel="prefetch" href="/alblog/assets/js/32.6563ba16.js"><link rel="prefetch" href="/alblog/assets/js/33.1c6af7f2.js"><link rel="prefetch" href="/alblog/assets/js/34.a09254f0.js"><link rel="prefetch" href="/alblog/assets/js/35.96248274.js"><link rel="prefetch" href="/alblog/assets/js/36.b076ff11.js"><link rel="prefetch" href="/alblog/assets/js/37.a5b8c264.js"><link rel="prefetch" href="/alblog/assets/js/38.097c2ea8.js"><link rel="prefetch" href="/alblog/assets/js/4.175d9b40.js"><link rel="prefetch" href="/alblog/assets/js/5.8ebb6fa6.js"><link rel="prefetch" href="/alblog/assets/js/6.12928c48.js"><link rel="prefetch" href="/alblog/assets/js/7.963a6c0d.js"><link rel="prefetch" href="/alblog/assets/js/8.d1e7aa5f.js"><link rel="prefetch" href="/alblog/assets/js/9.e0e79220.js">
    <link rel="stylesheet" href="/alblog/assets/css/0.styles.be855775.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/alblog/" class="home-link router-link-active"><!----> <span class="site-name">al的前端小屋</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/alblog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/alblog/read/" class="nav-link router-link-active">
  读书
</a></div><div class="nav-item"><a href="/alblog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/alblog/skill/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/alblog/vue/" class="nav-link">
  Vue.js
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/alblog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/alblog/read/" class="nav-link router-link-active">
  读书
</a></div><div class="nav-item"><a href="/alblog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/alblog/skill/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/alblog/vue/" class="nav-link">
  Vue.js
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《写给大家看的设计书》</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>《你不知道的JavaScript》(中)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alblog/read/unKnowJs/10.html" class="sidebar-link">你不知道的js读书笔记10</a></li><li><a href="/alblog/read/unKnowJs/9.html" class="sidebar-link">你不知道的js读书笔记9</a></li><li><a href="/alblog/read/unKnowJs/8.html" class="sidebar-link">你不知道的js读书笔记8</a></li><li><a href="/alblog/read/unKnowJs/7.html" class="sidebar-link">你不知道的js读书笔记7</a></li><li><a href="/alblog/read/unKnowJs/6.html" class="sidebar-link">你不知道的js读书笔记6</a></li><li><a href="/alblog/read/unKnowJs/5.html" aria-current="page" class="active sidebar-link">你不知道的js读书笔记5</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《你不知道的JavaScript》(上)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《Javascript悟道》</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《程序员修炼之道》</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《程序员的 38 堂成长课》</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="你不知道的-js-读书笔记-5"><a href="#你不知道的-js-读书笔记-5" class="header-anchor">#</a> 你不知道的 JS 读书笔记 5</h1> <img src="/alblog/assets/img/1.81d60a3a.jpeg"> <hr> <p>  JavaScript 有七种内置类型：null,undefined,boolean,number,string,object,symbol.除对象之外，其他统称为 “基本类型”。我们可以用 typeof 运算符来查看值的类型，它返回的是类型的字符串值。typeof null === &quot;object&quot; //true,我们需要符合条件来检测 null 值的类型：var a= null; (!a &amp;&amp; typeof a === &quot;object&quot;);//true null 是假值，也是唯一一个用 typeof 检测会返回 object 的基本类型值。</p> <p>  还有一种情况:typeof function a(){} === 'function' //true 这样看来，function 也是 js 的一个内置类型。它实际上是 object 的一个子类型。具体来说，函数是可调用对象，它有一个内部属性，该属性使其可以被调用。</p> <p>  javascript 中的变量是没有类型的，只有值有。变量可以随时持有任何类型的值。语言引擎不要求变量总是持有与其初始值同类型的值。typeof typeof 42.//string.typeof 运算符总是会返回一个字符串。</p> <p>   变量在未持有值的时候为 undefined。此时 typeof 返回 undefined.大多数开发者倾向于将 undefined 等同于 undeclared（未声明），但在 js 中它们完全是两回事。已在作用域中声明但还没有赋值的变量，是 undefined 的。相反，还没有在作用域中声明过的变量，是 undeclared 的。对于 undeclared(或者 not defined)变量，typeof 照样返回 undefined。虽然是一个 undeclared 变量，但 typeof b 并没有报错。这是因为 typeof 有一个特殊的安全防范机制。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a

a <span class="token comment">//undefined</span>
b <span class="token comment">// ReferenceError:b is not defined</span>

<span class="token keyword">typeof</span> a <span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> b <span class="token comment">//undefined</span>
</code></pre></div><p>  问题是如何在程序中检查全局变量 DEBUG 才不会出现 ReferenceError 错误。这时 typeof 的安全防范机制就成了我们的好帮手,与 undeclared 变量不同，访问不存在的对象属性（甚至说在全局对象 window 上）不会产生 ReferenceError 错误。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 这样会报错</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'debug start'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这样说安全的</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token constant">DEBUG</span> <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'debug start'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> atob <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">atob</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  从技术角度来说，typeof 的安全防范机制对于非全局变量也很管用。通过 typeof 的安全防范机制来检查 undeclared 变量，有时是个不错的办法。</p> <p>  使用 delete 运算符可以将单元从数组中删除，但是请注意，单元删除后，数组的 length 属性并不会发生变化。数组通过数字进行索引，但有趣的是它们也是对象，所以也可以包含字符串键值和属性。如果字符串键值能够被强制类型转换为十进制数字的话，它就会被当作数字索引来处理。</p> <p>  字符串不可变是指字符串的成员函数不会改变其原始值，而是创建并返回一个新的字符串。而数组的成员函数都是在其原始值上进行操作。许多数组函数来处理字符串很方便。虽然字符串没有这些函数，但可以通过借用数组的非变更方法来处理字符串。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>a<span class="token punctuation">.</span>join <span class="token comment">//undefined</span>
a<span class="token punctuation">.</span>map <span class="token comment">//undefined</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span>
  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

c<span class="token punctuation">;</span> <span class="token comment">//f-o-o</span>
d <span class="token comment">//F.O.O</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/alblog/read/unKnowJs/6.html" class="prev">
        你不知道的js读书笔记6
      </a></span> <span class="next"><a href="/alblog/read/unKnowJs/4.html">
        你不知道的js读书笔记4(完)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/alblog/assets/js/app.fd34ad18.js" defer></script><script src="/alblog/assets/js/2.be1f31b3.js" defer></script><script src="/alblog/assets/js/24.dbbd5fa7.js" defer></script>
  </body>
</html>
